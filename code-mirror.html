<link rel="import" href="bower_components/polymer/polymer.html">

<dom-module id="code-mirror">
  <template>
    <link href="node_modules/codemirror/lib/codemirror.css" rel="stylesheet" >
    <link href="node_modules/codemirror/theme/ambiance.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/ambiance-mobile.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/blackboard.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/cobalt.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/eclipse.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/elegant.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/erlang-dark.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/lesser-dark.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/midnight.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/monokai.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/neat.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/night.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/rubyblue.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/solarized.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/twilight.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/vibrant-ink.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/xq-dark.css" rel="stylesheet">
    <link href="node_modules/codemirror/theme/xq-light.css" rel="stylesheet">
    <link href="node_modules/codemirror/addon/fold/foldgutter.css" rel="stylesheet">

    <style>
    :host {
      display: block;
      position: relative;
      height: 100px;
    }
    .CodeMirror {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
    }
    </style>
  </template>
  <script>
    var CodeMirror = require('codemirror');
    Polymer({
      is: 'code-mirror',
      properties: {
        code: 'string',
        mode: {
          type: 'string',
          value: 'htmlmixed'
        },
        theme: {
          type: 'string',
          value: 'xq-light'
        },
        tabSize: {
          value: 2
        },
        lineNumbers: Boolean,
      },
      ready: function() {
        CodeMirror(Polymer.dom(this.root), {
          value: this.code,
          mode:  this.mode,
          theme: this.theme,
          lineNumbers: this.lineNumbers,
          foldGutter: true
        });
      }
    });
  </script>
</dom-module>
